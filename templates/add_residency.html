{% extends "base.html" %}

{% block content %}
<h2>Post a New Residency</h2>
<form method="post">
  <label>Title:
    <input type="text" name="title" placeholder="Enter residency title" required>
  </label><br>

  <label>Description:
    <textarea name="description" placeholder="Enter detailed description" required></textarea>
  </label><br>

  <label>Number of Residencies:
    <input type="number" name="num_of_residencies" min="1" placeholder="e.g. 5" required>
  </label><br>

    <label for="year">Year:</label>
    <select name="year" id="year" required>
    <option value="1">Year 1</option>
    <option value="2">Year 2</option>
    <option value="3">Year 3</option>
    <option value="4">Year 4</option>
</select>

  <label>Residency Type:
    <select name="residency_type" required>
      <option value="" disabled selected>Select type</option>
      <option value="Type1">R1</option>
      <option value="Type2">R1 + 2</option>
      <option value="Type3">R2</option>
      <option value="Type4">R3</option>
      <option value="Type5">R4</option>
        <option value="Type5">R5</option>
    </select>
  </label><br>

  <label>Is Combined Residency?
    <select name="is_combined" required>
      <option value="" disabled selected>Select an option</option>
      <option value="true">Yes</option>
      <option value="false">No</option>
    </select>
  </label><br>

  <label>Requirements:
    <textarea name="requirements" placeholder="List requirements here"></textarea>
  </label><br>

  <h3>Company Details</h3>

  <label>Company Contact:
    <input type="text" name="contact" placeholder="Enter company contact" required
      value="{{ company.contact if company else '' }}">
  </label><br>

  <label>Address Line 1:
    <input type="text" name="line_1" placeholder="Enter street address" required
      value="{{ address.line_1 if address else '' }}">
  </label><br>

  <label>Address Line 2:
    <input type="text" name="line_2" placeholder="Enter address line 2"
      value="{{ address.line_2 if address else '' }}">
  </label><br>

  <label>Town:
    <input type="text" name="town" placeholder="Enter town/city" required
      value="{{ address.town if address else '' }}">
  </label><br>

  <label>County:
    <input type="text" name="county" placeholder="Enter county" required
      value="{{ address.county if address else '' }}">
  </label><br>

  <label>Eircode:
    <input type="text" name="eircode" placeholder="Enter Eircode" required
      value="{{ address.eircode if address else '' }}">
  </label><br>

  <button type="submit">Post Residency</button>
</form>

{% with messages = get_flashed_messages() %}
  {% if messages %}
    <ul>
      {% for message in messages %}
        <li>{{ message }}</li>
      {% endfor %}
    </ul>
  {% endif %}
{% endwith %}
{% endblock %}
